CREATE TABLE "carrera" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"codigo" VARCHAR(255),
	PRIMARY KEY("id")
);




CREATE TABLE "plan_estudio" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"IdCarrera" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "nivel" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"idPlan" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "materia" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"codigo" VARCHAR(255),
	"idNivel" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "prerequisito" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"id_mat" INTEGER,
	"id_prereq" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "estudiante" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"registro" INTEGER,
	"ci" VARCHAR(255),
	"telefono" INTEGER,
	"correo" VARCHAR(255),
	"idPlan" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "nota" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nota" INTEGER,
	"idMatGrup" INTEGER,
	"idEstudiante" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "grupo_materia" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"cupos" INTEGER,
	"idMateria" INTEGER,
	"idDocente" INTEGER,
	"idGrupo" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "docente" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	"telefono" VARCHAR(255),
	"especialidad" VARCHAR(255),
	PRIMARY KEY("id")
);




CREATE TABLE "grupo" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"sigla" VARCHAR(255),
	PRIMARY KEY("id")
);




CREATE TABLE "periodo" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"numero" INTEGER,
	"idGrupoMateria" INTEGER,
	"idGestion" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "gestion" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"numero" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "inscripcion" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"fecha_inscripcion" DATE,
	"id_estudiante" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "detalle" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"idInscripcion" INTEGER,
	"idGrupoMateria" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "horario" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"hora_inicio" TIME,
	"hora_fin" TIME,
	"idAula" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "dia" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"nombre" VARCHAR(255),
	PRIMARY KEY("id")
);




CREATE TABLE "dia_horario" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"idHorario" INTEGER,
	"idDia" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "aula" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"numero" INTEGER,
	"idModulo" INTEGER,
	PRIMARY KEY("id")
);




CREATE TABLE "modulo" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"codigo" VARCHAR(255),
	PRIMARY KEY("id")
);




CREATE TABLE "boleta_horario" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"idHorario" INTEGER,
	"idGrupoMateria" INTEGER,
	PRIMARY KEY("id")
);



ALTER TABLE "carrera"
ADD FOREIGN KEY("id") REFERENCES "plan_estudio"("IdCarrera")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "nivel"
ADD FOREIGN KEY("idPlan") REFERENCES "plan_estudio"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "estudiante"
ADD FOREIGN KEY("idPlan") REFERENCES "plan_estudio"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "prerequisito"
ADD FOREIGN KEY("id_mat") REFERENCES "materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "prerequisito"
ADD FOREIGN KEY("id_prereq") REFERENCES "materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "materia"
ADD FOREIGN KEY("idNivel") REFERENCES "nivel"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "nota"
ADD FOREIGN KEY("idEstudiante") REFERENCES "estudiante"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "nota"
ADD FOREIGN KEY("idMatGrup") REFERENCES "grupo_materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "grupo_materia"
ADD FOREIGN KEY("idDocente") REFERENCES "docente"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "grupo"
ADD FOREIGN KEY("id") REFERENCES "grupo_materia"("idGrupo")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "materia"
ADD FOREIGN KEY("id") REFERENCES "grupo_materia"("idMateria")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "periodo"
ADD FOREIGN KEY("idGrupoMateria") REFERENCES "grupo_materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "periodo"
ADD FOREIGN KEY("idGestion") REFERENCES "gestion"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "detalle"
ADD FOREIGN KEY("idInscripcion") REFERENCES "inscripcion"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "detalle"
ADD FOREIGN KEY("idGrupoMateria") REFERENCES "grupo_materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "inscripcion"
ADD FOREIGN KEY("id_estudiante") REFERENCES "estudiante"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "dia"
ADD FOREIGN KEY("id") REFERENCES "dia_horario"("idDia")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "horario"
ADD FOREIGN KEY("id") REFERENCES "dia_horario"("idHorario")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "aula"
ADD FOREIGN KEY("idModulo") REFERENCES "modulo"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "aula"
ADD FOREIGN KEY("id") REFERENCES "horario"("idAula")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "boleta_horario"
ADD FOREIGN KEY("idHorario") REFERENCES "horario"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "boleta_horario"
ADD FOREIGN KEY("idGrupoMateria") REFERENCES "grupo_materia"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;